---
import { sortByPin } from "@/shared/tag";
import Home from "../components/Home.astro";
import { getPageList } from "./api/post/list";
import config from "urodele.config";
const posts = sortByPin(await getPageList());

const pageSize = config.pagination.size;
---
<script defer src="https://monitor.930113.xyz/script.js" data-website-id="21618901-de5d-45ba-a51c-a6c52098f141"></script>
<Home posts={posts.slice(0, pageSize)} page={0} pages={Math.ceil(posts.length / pageSize)} />
